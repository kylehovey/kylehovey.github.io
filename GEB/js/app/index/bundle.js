!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));$(function(){window.app=new r.default,$("#decode").on("click",function(){$("#message").text(app.image.decodeFromCanvas())})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.default=function t(){!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.image=new r.default({src:"./images/GEB_Self_Interpret.png",width:1e3,height:1443,container:"#image"})}},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:127;return e-(15&e)+(15&t)}function a(){return 15&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:255)}function i(t,e){var n=t,r=e,a=0;return n%4==3?(++n,++r,a=2):r%4==3&&(++r,a=1),[n,r,a]}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8ClampedArray;if(2*t.length>=e.length)throw new Error("Not enough data to encode string.");var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e)),a=0,o=function(t){var e=t.charCodeAt(0),o=[240,15].map(function(t){return e&t}),u=c(o,2),f=u[0],s=u[1];f>>=4;var l=i(a,a+1),h=c(l,3),v=h[0],d=h[1],g=h[2];n[v]=r(f,n[v]),n[d]=r(s,n[d]),a+=2+g},u=!0,f=!1,s=void 0;try{for(var l,h=t[Symbol.iterator]();!(u=(l=h.next()).done);u=!0){o(l.value)}}catch(t){f=!0,s=t}finally{try{!u&&h.return&&h.return()}finally{if(f)throw s}}return n[a+1]=r(0,n[a+1]),n[a+2]=r(0,n[a+2]),Uint8ClampedArray.from(n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._opts=e;var r=$(this._opts.container),a=c(r,1);this._canvas=a[0],this._canvas.width=this._opts.width,this._canvas.height=this._opts.height,this._ctx=this._canvas.getContext("2d"),this._image=this._getImage(),this._image.then(function(t){return n._ctx.drawImage(t,0,0)})}return u(t,[{key:"_getImage",value:function(){var t=new Image;return t.src=this._opts.src,new Promise(function(e){t.onload=function(){return e(t)}})}},{key:"getImageData",value:function(){var t=this._canvas,e=t.width,n=t.height;return this._ctx.getImageData(0,0,e,n)}},{key:"encodeOntoCanvas",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(a,i){try{var o=e[a](i),u=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}return r("next")})}}(regeneratorRuntime.mark(function t(){var e,n,r,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getImageData(),n=e.data,r=o(i,n),a=new ImageData(r,this._opts.width,this._opts.height),t.next=5,this.render(a);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"decodeFromCanvas",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8ClampedArray,e="",n=0;n<t.length;){var r=i(n,n+1),o=c(r,3),u=o[0],f=o[1];n+=2+o[2];var s=[t[u],t[f]].map(a),l=c(s,2),h=(l[0]<<4)+l[1];if(0===h)break;e=""+e+String.fromCharCode(h)}return e}(this.getImageData().data)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getImageData();this._ctx.putImageData(t,0,0)}}]),t}();e.default=f}]);
